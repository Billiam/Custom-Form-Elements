/* Custom Form Elements v0.10 / http://github.com/karbassi/Custom-Form-Elements / Written by Ali Karbassi (karbassi.com) */
(function(j,n,a){function g(b){this.init.call(this,b)}g.prototype={init:function(b){this.options=a.extend({},g.options,b||{});a("<style>"+["input.",this.options.styled,"{display:none;}select.",this.options.styled,"{position:relative;width:",this.options.selectWidth,"px;opacity:0;filter:alpha(opacity=0);z-index:5;}","."+e+",."+f+"{opacity:0.5;filter:alpha(opacity=50);}"].join("")+"</style>").appendTo("head");this.repaint()},repaint:function(){var b=this;a("input."+b.options.styled+"[type=checkbox],input."+b.options.styled+"[type=radio],select."+b.options.styled).each(function(){var d=a("#"+this.id+"_cf."+b.options.uniqueClassName);d.length>0&&d.remove();d=a(this).find("option:selected").text();var c=this.type==="select-one"?"select":this.type,k='style="background-position:0 -'+b.options[c+h]*(this.checked?2:0)+'px;"',l=this.disabled?e:null,m=a(this).attr(f)?f:null;d='<span id="'+this.id+'_cf" class="'+[b.options.uniqueClassName,c,l,m].join(" ").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")+'"'+(c!=="select"?" "+k+" ":"")+">"+d+"</span>";a(this).before(d)});b.bind()},bind:function(){var b=this;a("span."+b.options.uniqueClassName+".checkbox:not(."+e+",."+f+"),span."+b.options.uniqueClassName+".radio:not(."+e+",."+f+")").die("mousedown mouseup").live("mousedown",function(c){b.mousedown(c,this)}).live("mouseup",function(c){b.mouseup(c,this)});var d="span."+b.options.uniqueClassName+".select:not(."+e+")+select";a(d).each(function(){a(this).parent().undelegate(d,"change").delegate(d,"change",function(){a(this).prev("span").html(a(this).find("option:selected").text().replace(/\s/g,"&nbsp;"))})});d="input."+b.options.styled;a(d).each(function(){if(!a("span#"+this.id+"_cf."+e).length){a(this).parent().undelegate(d,"change").delegate(d,"change",function(){b.reset()});a.browser.msie&&a("label[for="+this.id+"]").bind("click",function(){var c=jQuery.Event("mouseup");c.which=1;a("span#"+a(this).attr("for")+"_cf").trigger(c)})}})},reset:function(){var b=this;a("input."+b.options.styled).each(function(){a("#"+this.id+"_cf")[0].style[i]=!this.checked?"":"0 -"+b.options[this.type+h]*2+"px"})},mousedown:function(b,d){if(b.which===1){var c=a("#"+d.id.split("_cf").shift())[0];d.style[i]="0 -"+this.options[c.type+h]*(c.checked?3:1)+"px"}},mouseup:function(b,d){if(b.which===1){var c=a("#"+d.id.split("_cf").shift())[0];d.style[i]=c.checked&&c.type==="checkbox"?"":"0 -"+this.options[c.type+h]*2+"px";if(!(c.type=="radio"&&c.checked===true)){a("input[type=radio][name="+c.name+"]").not("#"+c.id).each(function(){a("#"+this.id+"_cf")[0].style[i]=""});c.checked=!c.checked;a(c).trigger("change")}}}};g.options={styled:"styled",uniqueClassName:"customFormElement",checkboxHeight:12,radioHeight:11,selectWidth:161};var i="backgroundPosition",e="disabled",f="readonly",h="Height";j.CustomFormElements=g})(window,document,jQuery);