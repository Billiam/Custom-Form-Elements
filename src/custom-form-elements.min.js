/* Custom Form Elements / http://github.com/karbassi/Custom-Form-Elements / Written by Ali Karbassi (karbassi.com) / Original idea from Ryan Fait (ryanfait.com) */
(function(f,i,a){function e(b){this.init.call(this,b)}e.prototype={init:function(b){this.options=a.extend({},e.options,b||{});a("<style>"+["input.",this.options.styled,"{display:none;}select.",this.options.styled,"{position:relative;width:",this.options.selectWidth,"px;opacity:0;filter:alpha(opacity=0);z-index:5;}.disabled{opacity:0.5;filter:alpha(opacity=50);}"].join("")+"</style>").appendTo("head");this.bind();this.repaint()},repaint:function(){var b=this;a("input."+b.options.styled+
"[type=checkbox], input."+b.options.styled+"[type=radio], select."+b.options.styled).each(function(){if(!a(this).prev().is("[class*="+b.options.uniqueClassName+"]")){var d=a("option:selected",this).text(),c=a(this).attr("type")==="select-one"?"select":a(this).attr("type"),g='style = "background-position:0 -'+b.options[c+"Height"]*(a(this).is(":checked")?2:0)+'px;"',h=a(this).is(":disabled")?"disabled":"";c=[b.options.uniqueClassName,c,h];d='<span id="'+a(this).attr("id")+'_cf" class="'+c.join(" ")+
'" '+g+'">'+d+"</span>";a(d).insertBefore(this)}})},bind:function(){var b=this;a("span."+b.options.uniqueClassName+".checkbox:not(.disabled), span."+b.options.uniqueClassName+".radio:not(.disabled)").die('mousedown mouseup').live("mousedown",function(d){b.mousedown(d,this)}).live("mouseup",function(d){b.mouseup(d,this)});a("span."+b.options.uniqueClassName+".select:not(.disabled) + select").die('change').live("change",function(){a(this).prev("span").text(a("option:selected",this).text())});a("input").die('change').live("change",function(){b.reset()})},
reset:function(){var b=this;a("input.styled").each(function(){var d=b.options[a(this).attr("type")+"Height"]*(a(this).is(":checked")?2:0);a("#"+a(this).attr("id")+"_cf").css({"background-position":"0 -"+d+"px"})})},mousedown:function(b,d){var c=a(d).next("input");c=this.options[c.attr("type")+"Height"]*(c.is(":checked")?3:1);a(d).css({"background-position":"0 -"+c+"px"})},mouseup:function(b,d){var c=a(d).next("input");offset=this.options[c.attr("type")+"Height"]*(c.is(":checked")&&c.attr("type")===
"checkbox"?0:2);a(d).css({"background-position":"0 -"+offset+"px"});a("input[type=radio][name="+c.attr("name")+"]:not(#"+c.attr("id")+")").each(function(){a(this).prev("span").css({"background-position":"0 0"})});c.attr("checked",!c.is(":checked"))}};e.options={styled:"styled",uniqueClassName:"customFormElement",checkboxHeight:12,radioHeight:11,selectWidth:161};f.CustomFormElements=e})(window,document,jQuery);