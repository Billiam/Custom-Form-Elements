/* Custom Form Elements v0.11 / http://github.com/karbassi/Custom-Form-Elements / Written by Ali Karbassi (karbassi.com) */
(function(j,k,b){function e(a){this.init.call(this,a)}e.prototype={init:function(a){this.options=b.extend({},e.options,a||{});b("<style>"+["input.",this.options.styled,"{display:none;}select.",this.options.styled,"{position:relative;width:",this.options.selectWidth,"px;opacity:0;filter:alpha(opacity=0);z-index:5;}","."+f+",."+h+"{opacity:0.5;filter:alpha(opacity=50);}"].join("")+"</style>").appendTo("head");this.repaint()},repaint:function(){var a=this;b("input."+a.options.styled+"[type=checkbox],input."+a.options.styled+"[type=radio],select."+a.options.styled).each(function(){var c=b("#"+this.id+"_cf."+a.options.uniqueClassName);0<c.length&&c.remove();var c=b(this).find("option:selected").text(),d="select-one"===this.type?"select":this.type,e='style="background-position:0 -'+a.options[d+i]*(this.checked?2:0)+'px;"',g=this.disabled?f:null,j=b(this).attr(h)?h:null,c='<span id="'+this.id+'_cf" class="'+[a.options.uniqueClassName,d,g,j].join(" ").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")+'"'+("select"!==d?" "+e+" ":"")+">"+c+"</span>";b(this).before(c)});a.bind()},bind:function(){var a=this;b("span."+a.options.uniqueClassName+".checkbox:not(."+f+",."+h+"),span."+a.options.uniqueClassName+".radio:not(."+f+",."+h+")").die("mousedown mouseup touchstart touchend").live("mousedown touchstart",function(b){a.mousedown(b,this)}).live("mouseup touchend",function(b){a.mouseup(b,this)});var c="span."+a.options.uniqueClassName+".select:not(."+f+")+select";b(c).each(function(){b(this).parent().undelegate(c,"change").delegate(c,"change",function(){b(this).prev("span").html(b(this).find("option:selected").text().replace(/\s/g,"&nbsp;"))})});c="input."+a.options.styled;b(c).each(function(){b("span#"+this.id+"_cf."+f).length||(b(this).parent().undelegate(c,"change").delegate(c,"change",function(){a.reset()}),b.browser.msie&&b("label[for="+this.id+"]").bind("click",function(){var a=jQuery.Event("mouseup");a.which=1;b("span#"+b(this).attr("for")+"_cf").trigger(a)}))})},reset:function(){var a=this;b("input."+a.options.styled).each(function(){b("#"+this.id+"_cf")[0].style[g]=!this.checked?"":"0 -"+2*a.options[this.type+i]+"px"})},mousedown:function(a,c){if(!(1!==a.which&&0!==a.which)){var d=b("#"+c.id.split("_cf").shift())[0];c.style[g]="0 -"+this.options[d.type+i]*(d.checked?3:1)+"px"}},mouseup:function(a,c){if(!(1!==a.which&&0!==a.which)){var d=b("#"+c.id.split("_cf").shift())[0];c.style[g]=d.checked&&"checkbox"===d.type?"":"0 -"+2*this.options[d.type+i]+"px";if(!("radio"==d.type&&!0===d.checked))b("input[type=radio][name="+d.name+"]").not("#"+d.id).each(function(){b("#"+this.id+"_cf")[0].style[g]=""}),d.checked=!d.checked,b(d).trigger("change")}}};e.options={styled:"styled",uniqueClassName:"customFormElement",checkboxHeight:12,radioHeight:11,selectWidth:161};var g="backgroundPosition",f="disabled",h="readonly",i="Height";j.CustomFormElements=e})(window,document,jQuery);
