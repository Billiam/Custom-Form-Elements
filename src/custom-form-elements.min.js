/* Custom Form Elements v0.11b / http://github.com/karbassi/Custom-Form-Elements / Written by Ali Karbassi (karbassi.com) */
(function(f,h,b){function e(a){this.init.call(this,a)}e.prototype={init:function(a){this.options=b.extend({},e.options,a||{});b("<style>input."+this.options.styled+"{display:none;}select."+this.options.styled+"{position:relative;width:"+this.options.selectWidth+"px;opacity:0;filter:alpha(opacity=0);z-index:5;}input."+this.options.styled+"[type=file]{display:block;position:relative;width:"+this.options.fileWidth+"px;opacity:0;filter:alpha(opacity=0);z-index:5;}.disabled,.readonly{opacity:0.5;filter:alpha(opacity=50);}</style>").appendTo("head");this.repaint()},repaint:function(){var a=this;b("input."+a.options.styled+"[type=checkbox],input."+a.options.styled+"[type=radio],input."+a.options.styled+"[type=file],select."+a.options.styled).each(function(){var c=b("#"+this.id+"_cf."+a.options.uniqueClassName);c.length>0&&c.remove();var c=b(this).find("option:selected").text(),d=this.type==="select-one"?"select":this.type,e=!(this.type==="select-one"||this.type==="file")?' style="background-position:0 -'+a.options[this.type+"Height"]*(this.checked?2:0)+'px;" ':"",f=this.disabled?"disabled":"",g=this.getAttribute("readonly")?"readonly":"",c='<span id="'+this.id+'_cf" class="'+(a.options.uniqueClassName+" "+d+" "+f+" "+g+" ").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")+'"'+e+">"+c+"</span>";b(this).before(c)});a.bind()},bind:function(){var a=this;b("span."+a.options.uniqueClassName+".checkbox:not(.disabled,.readonly),span."+a.options.uniqueClassName+".radio:not(.disabled,.readonly)").die("mousedown mouseup").live("mousedown",function(b){a.mousedown(b,this)}).live("mouseup",function(b){a.mouseup(b,this)});var c="span."+a.options.uniqueClassName+".select:not(.disabled)+select";b(c).each(function(){b(this).parent().undelegate(c,"change").delegate(c,"change",function(){b(this).prev("span").html(b(this).find("option:selected").text().replace(/\s/g,"&nbsp;"))})});c="input."+a.options.styled;b(c).each(function(){b("span#"+this.id+"_cf.disabled").length||(b(this).parent().undelegate(c,"change").delegate(c,"change",function(){a.reset()}),b.browser.msie&&b("label[for="+this.id+"]").bind("click",function(){var a=jQuery.Event("mouseup");a.which=1;b("span#"+b(this).attr("for")+"_cf").trigger(a)}))})},reset:function(){var a=this;b("input."+a.options.styled).each(function(){b("#"+this.id+"_cf")[0].style.backgroundPosition=!this.checked?"":"0 -"+a.options[this.type+"Height"]*2+"px"})},mousedown:function(a,c){if(a.which===1){var d=b("#"+c.id.split("_cf").shift())[0];c.style.backgroundPosition="0 -"+this.options[d.type+"Height"]*(d.checked?3:1)+"px"}},mouseup:function(a,c){if(a.which===1){var d=b("#"+c.id.split("_cf").shift())[0];c.style.backgroundPosition=d.checked&&d.type==="checkbox"?"":"0 -"+this.options[d.type+"Height"]*2+"px";if(!(d.type=="radio"&&d.checked===!0))b("input[type=radio][name="+d.name+"]").not("#"+d.id).each(function(){b("#"+this.id+"_cf")[0].style.backgroundPosition=""}),d.checked=!d.checked,b(d).trigger("change")}}};e.options={styled:"styled",uniqueClassName:"customFormElement",checkboxHeight:12,radioHeight:11,selectWidth:161,fileWidth:161};f.CustomFormElements=e})(window,document,jQuery);